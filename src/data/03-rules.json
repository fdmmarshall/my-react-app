[
    {
        "_id": [
            "_role/id",
            "creator"
        ],
        "rules": [
            "_rule$fullAccessListCreation",
            "_rule$canQueryOwnListData",
            "_rule$canUpdateTaskData"
        ]
    },
    {
        "_id": [
            "_role/id",
            "assignee"
        ],
        "rules": [
            "_rule$canViewAssignedTasks",
            "_rule$canEditCompletionStatus"
        ]
    },
    {
        "_id": "_rule$fullAccessListCreation",
        "id": "fullAccessListCreation",
        "doc": "A _user with this rule has the ability to create a list",
        "fns": [
            [
                "_fn/name",
                "true"
            ]
        ],
        "ops": [
            "transact"
        ],
        "collection": "list",
        "predicates": [
            "*"
        ]
    },
    {
        "_id": "_rule$canQueryOwnListData",
        "id": "canQueryOwnListData",
        "doc": "A _user with this rule can only view their own list data",
        "fns": [
            "_fn$queryOwnListsData"
        ],
        "ops": [
            "query"
        ],
        "collection": "list",
        "predicates": [
            "*"
        ]
    },
    {
        "_id": "_fn$queryOwnListsData",
        "name": "queryOwnListsData?",
        "doc": "A _user can query their own list data",
        "code": "(relationship? (?sid) [\"list/creator\" \"_user/creator\" \"_user/auth\"] (?auth_id))"
    },
    {
        "_id": "_rule$canUpdateTaskData",
        "id": "canUpdateTaskData",
        "doc": "A _user with this rule can update task and assignee data",
        "fns": [
            "_fn$canUpdateTaskData"
        ],
        "ops": [
            "transact"
        ],
        "collection": "list",
        "predicates": [
            "*"
        ]
    },
    {
        "_id": "_fn$canUpdateTaskData",
        "name": "canUpdateTaskData?",
        "doc": "A _user can edit task and assignee data",
        "code": "(relationship? (?sid) [\"list/creator\" \"_user/creator\" \"_user/auth\"] (?auth_id))"
    },
    {
        "_id": "_rule$canViewAssignedTasks",
        "id": "canViewAssignedTasks",
        "doc": "A _user with this rule can update task and assignee data",
        "fns": [
            "_fn$canViewAssignedTasks"
        ],
        "ops": [
            "query"
        ],
        "collection": "list",
        "predicates": [
            "*"
        ]
    },
    {
        "_id": "_fn$canViewAssignedTasks",
        "name": "canViewAssignedTasks?",
        "doc": "A _user can view the tasks assigned to them in a list",
        "code": "(relationship? (?sid) [\"list/tasks\" \"task/assignedTo\" \"_user/assignee\" \"_user/auth\"] (?auth_id))"
    },
    {
        "_id": "_rule$canEditCompletionStatus",
        "id": "canEditCompletionStatus",
        "doc": "A _user with this rule can update a task's completion status if tied to their user",
        "fns": [
            "_fn$canEditCompletionStatus"
        ],
        "ops": [
            "transact"
        ],
        "collection": "task",
        "predicates": [
            "task/isCompleted"
        ]
    },
    {
        "_id": "_fn$canEditCompletionStatus",
        "name": "canEditCompletionStatus?",
        "doc": "A _user can edit a task's completion status if tied to their user",
        "code": "(relationship? (?sid) [\"task/assignedTo\" \"_user/assignee\" \"_user/auth\"] (?auth_id))"
    }
]